{% extends 'dashboard/layout.html' %}
{% load i18n %}
{% load thumbnail %}
{% load staticfiles %}
{% load sorting_tags %}
{% load form_tags %}

{% block title %}
	{{ title }} {% trans "Import Records" %} | {{ block.super }}
{% endblock %}

{% block breadcrumbs %}
	<ul class="breadcrumb">
		<li>
			<a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a>
			<span class="divider">/</span>
		</li>
		<li>
			<a href="{% url 'dashboard:catalogue-product-list' %}">{% trans "Products" %}</a>
			<span class="divider">/</span>
		</li>
		{% if product %}
			<li>
				<a href="{% url 'dashboard:catalogue-product' parent.id %}">
					{{ product.title }}
				</a>
				<span class="divider">/</span>
			</li>
		{% endif %}
		<li class="active">{{ title }}</li>
	</ul>
{% endblock %}

{% block headertext %}
	{{ title }}
	<p>
		<a href="{% url 'dashboard:catalogue-product' parent.id %}" class="btn btn-secondary">
			<i class="icon-arrow-left"></i>&nbsp;
			Return to Product
		</a>
	</p>
	<hr>
{% endblock %}

{% block dashboard_content %}
	<h2> Records List: {% if parent %} {{ parent.title}} {% endif %} </h2>
	<p>
		<a class="btn btn-primary" href="{% url 'dashboard:add_record' parent.id %}">
			<i class="icon-plus"></i>&nbsp;
			Add New Record
		</a>
	</p>
	<style type="text/css">
		th {
			text-align: center !important;
			font-size: 1.1em;
			border: 1px solid #333 !important;
		}
		td.positive, th.positive {
			background-color: #dff0d8;
		}
		td.negative, th.negative {
			background-color: #f2dede;
		}
		td.info, th.info {
			background-color: #d9edf7;
		}
		td.data, th.data {
			background-color: #fcf8e3;
		}
		td.control {
			background-color: #f5f5f5;
			text-align: right;
		}
		thead {
			border: none;
		}
		tr.row-break td, td.spanner {
			border-bottom: 1px solid #333 !important;
		}
		/* Get rid of bootstrap radius */
		td, th {
			border-radius: 0px !important;
			-webkit-border-radius: 0px !important;
			-moz-border-radius: 0px !important;
		}
	</style>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>#</th>
				<th class="data">Standard Export Price</th>
				<th class="data">Import Price (USD)</th>
				<th class="info">Tariff Code</th>
				<th class="negative">Tariff</th>
				<th class="negative">Shipping</th>
				<th class="info">COGS</th>
				<th class="positive">Wholesale</th>
				<th class="positive">MSRP</th>
				<th class="data">Wholesale GPM</th>
				<th class="data">Retail GPM</th>
				<th class="data">Reseller GPM</th>
			</tr>
		</thead>
		<tbody>
			{% for rec in records %}
			<tr>
				<td rowspan="2" class="spanner">{{ forloop.counter }}</td>
				<td colspan="2"><strong>Product Detail: {{ rec.product }} </strong></td>
				
				<td class="">
					 <a href="#" target="_blank">
					 {{ rec.tariff_code }}
					 </a>
				</td>
				<td colspan="3"><strong>Date Imported:</strong> <u>{{ rec.imported_date }}</u></td>
				<td colspan="2"><strong>Quantity Imported:</strong> <u>{{ rec.quantity }}</u> </td>
				<td colspan="3" class="control">

					<a href="" class="btn">
						<i class="icon-plus-sign"></i>
						Create New With Data
					</a>
					<a href="{% url 'dashboard:update_record' parent.id rec.id %}" class="btn btn-primary">
						<i class="icon-list"></i>
						View Details/Modify
					</a>
				</td>
				
			</tr>
			<tr class="row-break">
				<td class="data"> {{ rec.standard_export_price }} {{ rec.origin_currency }}</td>
				<td class="data">${{ rec.import_price }}</td>
				<td class="info">
					Tariff Rate: {{ rec.tariff_rate }}%
				</td>
				<td class="negative">${{ rec.tariff }}</td>
				<td class="negative">${{ rec.shipping_cost }}</td>
				<td class="info">${{ rec.cost_price }}</td>
				<td class="positive">${{ rec.price_reseller }}</td>
				<td class="positive">${{ rec.price_retail }}</td>
				<td class="data"> {{ rec.wholesale_gpm }}%</td>
				<td class="data"> {{ rec.retail_gpm }}%</td>
				<td class="data"> {{ rec.reseller_gpm }}%</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
		{#
			<li><a href="{% url 'dashboard:update_record' product.id rec.id %}">Record Number: {{ rec.id }} </a></li>
			<li>Record: {{ rec.partner_sku }} 
			| Standard Export Price: {{ rec.standard_export_price }} euros
			| Discount to EU Activewear: {{ rec.partner_discount }}% 
			| Currency Conversion Factor: {{ rec.currency_factor }}
			<br>
			| MSRP (Euro): {{ rec.origin_msrp }} euros
			| MSRP (USD): ${{ rec.msrp }} 
			| Export Price: {{ rec.export_price }} euros
			| Import Price(USD): ${{ rec.import_price }} 
			<br>
			| Tariff Code: {{ rec.tariff_code }} 
			| Tariff Rate: {{ rec.tariff_rate }}% 
			| Tariff: ${{ rec.tariff }} 
			<br>
			| Shipping Weight: {{ rec.shipping_weight }} 
			| Shipping Factor: {{ rec.shipping_factor }} 
			| Import Cost (USD): ${{ rec.import_cost }} 
			<br>
			| COGS (fully landed): ${{ rec.cost_price }} 
			<br>
			| WS GPM Target: {{ rec.target_wholesale_gpm }}% 
			| Target WS Price: ${{ rec.target_wholesale_price }} 
			| Implied Retail Factor: {{ rec.implied_retail_factor }} 
			<br>
			| Target Retail Factor: {{ rec.target_retail_factor }} 
			| Implied MSRP: ${{ rec.implied_msrp }} 
			| MSRP Delta: ${{ rec.msrp_delta }}
			| MSRP Markup: {{ rec.msrp_markup }}% 
			<br>
			| Final WS Price: ${{ rec.price_reseller }}
			| Final MSRP: ${{ rec.price_retail }}
			<br>
			| Final GIG WS Profit: ${{ rec.wholesale_profit }}
			| Final GIG WS GPM: {{ rec.wholesale_gpm }}% 
			<br>
			| Final GIG Retail Profit: ${{ rec.retail_profit }} 
			| Final GIG Retail GPM: {{ rec.retail_gpm }}% 
			<br>
			| Final Reseller Profit: ${{ rec.reseller_profit }} 
			| Final Reseller GPM: {{ rec.reseller_gpm }}%</li>
	</ul>
	#}
